{"ast":null,"code":"import \"antd-mobile/es/accordion/style\";\nimport _Accordion from \"antd-mobile/es/accordion\";\nimport \"antd-mobile/es/toast/style\";\nimport _Toast from \"antd-mobile/es/toast\";\nimport _classCallCheck from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\src\\\\pages\\\\testHome\\\\index.js\";\nimport { withRouter } from \"react-router-dom\";\nimport React, { Component } from 'react';\nimport Nav from \"../../components/Nav\";\nimport Super from \"../../super\";\nimport Storage from \"../../units/storage\";\n\nvar TestHome = /*#__PURE__*/function (_Component) {\n  _inherits(TestHome, _Component);\n\n  function TestHome() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TestHome);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TestHome)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.request = function () {\n      Super.super({\n        url: 'api2/meta/menu/get_blocks'\n      }).then(function (res) {\n        var currentBlockId = res.currentBlockId;\n        console.log(res);\n\n        _this.setBlocks(currentBlockId, res.blocks);\n\n        _this.setState({\n          blocks: res.blocks\n        });\n      });\n    };\n\n    _this.setBlocks = function (blockId, resBlocks) {\n      var blocks = _this.state.blocks;\n      var blockList;\n\n      if (resBlocks) {\n        blocks = resBlocks;\n      }\n\n      blocks.forEach(function (item) {\n        if (item.id == blockId) {\n          _Toast.info(blockId);\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TestHome, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.request();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //const {homeData}=this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        title: \"HYDROCARBON\",\n        data: homeData,\n        handleSelected: this.handlePop,\n        pops: homePop,\n        level: 1,\n        setBlocks: this.setBlocks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"menuTreeNode\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Accordion, {\n        accordion: true,\n        key: \"menuTreeNode\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, menuTreeNode)));\n    }\n  }]);\n\n  return TestHome;\n}(Component);\n\nexport default withRouter(TestHome);","map":{"version":3,"sources":["E:/我的文件/人员定位系统/hclient_mobile_react/src/pages/testHome/index.js"],"names":["withRouter","React","Component","Nav","Super","Storage","TestHome","request","super","url","then","res","currentBlockId","console","log","setBlocks","blocks","setState","blockId","resBlocks","state","blockList","forEach","item","id","info","homeData","handlePop","homePop","menuTreeNode"],"mappings":";;;;;;;;;;AAAA,SAAQA,UAAR,QAAyB,kBAAzB;AACA,OAAOC,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,OAAOC,OAAP,MAAoB,qBAApB;;IAEMC,Q;;;;;;;;;;;;;;;;UAIFC,O,GAAQ,YAAI;AACRH,MAAAA,KAAK,CAACI,KAAN,CAAY;AACRC,QAAAA,GAAG,EAAC;AADI,OAAZ,EAEGC,IAFH,CAEQ,UAACC,GAAD,EAAO;AACX,YAAMC,cAAc,GAACD,GAAG,CAACC,cAAzB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,cAAKI,SAAL,CAAeH,cAAf,EAA8BD,GAAG,CAACK,MAAlC;;AACA,cAAKC,QAAL,CAAc;AACVD,UAAAA,MAAM,EAACL,GAAG,CAACK;AADD,SAAd;AAGH,OATD;AAUH,K;;UACDD,S,GAAU,UAACG,OAAD,EAASC,SAAT,EAAqB;AAAA,UACtBH,MADsB,GACd,MAAKI,KADS,CACtBJ,MADsB;AAE3B,UAAIK,SAAJ;;AACA,UAAGF,SAAH,EAAa;AACTH,QAAAA,MAAM,GAACG,SAAP;AACH;;AACDH,MAAAA,MAAM,CAACM,OAAP,CAAe,UAACC,IAAD,EAAQ;AACnB,YAAGA,IAAI,CAACC,EAAL,IAASN,OAAZ,EAAoB;AAChB,iBAAMO,IAAN,CAAWP,OAAX;AACH;AACJ,OAJD;AAKH,K;;;;;;;wCA1BmB;AAChB,WAAKX,OAAL;AACH;;;6BA0BQ;AACL;AACA,0BACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AACI,QAAA,KAAK,EAAC,aADV;AAEI,QAAA,IAAI,EAAEmB,QAFV;AAGI,QAAA,cAAc,EAAE,KAAKC,SAHzB;AAII,QAAA,IAAI,EAAEC,OAJV;AAKI,QAAA,KAAK,EAAE,CALX;AAMI,QAAA,SAAS,EAAE,KAAKb,SANpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eASI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAW,QAAA,SAAS,MAApB;AAAqB,QAAA,GAAG,EAAC,cAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKc,YADL,CADJ,CATJ,CADJ;AAiBH;;;;EAhDkB3B,S;;AAmDvB,eAAeF,UAAU,CAACM,QAAD,CAAzB","sourcesContent":["import {withRouter} from \"react-router-dom\";\r\nimport React, {Component} from 'react'\r\nimport Nav from \"../../components/Nav\";\r\nimport Super from \"../../super\"\r\nimport {Accordion, Toast} from \"antd-mobile\";\r\nimport Storage from \"../../units/storage\";\r\n\r\nclass TestHome extends Component{\r\n    componentDidMount() {\r\n        this.request()\r\n    }\r\n    request=()=>{\r\n        Super.super({\r\n            url:'api2/meta/menu/get_blocks',\r\n        }).then((res)=>{\r\n            const currentBlockId=res.currentBlockId;\r\n            console.log(res);\r\n            this.setBlocks(currentBlockId,res.blocks)\r\n            this.setState({\r\n                blocks:res.blocks\r\n            })\r\n        })\r\n    }\r\n    setBlocks=(blockId,resBlocks)=>{\r\n        let {blocks}=this.state\r\n        let blockList\r\n        if(resBlocks){\r\n            blocks=resBlocks;\r\n        }\r\n        blocks.forEach((item)=>{\r\n            if(item.id==blockId){\r\n                Toast.info(blockId);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        //const {homeData}=this.state;\r\n        return(\r\n            <div className=\"home\">\r\n                <Nav\r\n                    title=\"HYDROCARBON\"\r\n                    data={homeData}\r\n                    handleSelected={this.handlePop}\r\n                    pops={homePop}\r\n                    level={1}\r\n                    setBlocks={this.setBlocks}\r\n                />\r\n                <div className=\"menuTreeNode\">\r\n                    <Accordion accordion key=\"menuTreeNode\">\r\n                        {menuTreeNode}\r\n                    </Accordion>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(TestHome)"]},"metadata":{},"sourceType":"module"}