{"ast":null,"code":"import \"antd-mobile/es/date-picker/style\";\nimport _DatePicker from \"antd-mobile/es/date-picker\";\nimport \"antd-mobile/es/picker/style\";\nimport _Picker from \"antd-mobile/es/picker\";\nimport \"antd-mobile/es/list/style\";\nimport _List from \"antd-mobile/es/list\";\nimport \"antd-mobile/es/input-item/style\";\nimport _InputItem from \"antd-mobile/es/input-item\";\nimport _classCallCheck from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\hclient_mobile_react\\\\src\\\\components\\\\FormCard\\\\searchCard.js\";\nimport React, { Component } from 'react';\nimport CasePicker from './../CasePicker';\n\nvar SearchCard = /*#__PURE__*/function (_Component) {\n  _inherits(SearchCard, _Component);\n\n  function SearchCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      optdata: []\n    };\n\n    _this.onVisibleChange = function (visible) {\n      if (visible) {\n        document.addEventListener('touchmove', _this.bodyScroll, {\n          passive: false\n        });\n      } else {\n        document.removeEventListener('touchmove', _this.bodyScroll, {\n          passive: false\n        });\n      }\n    };\n\n    _this.bodyScroll = function (e) {\n      e.preventDefault();\n    };\n\n    _this.initFormList = function () {\n      var _this$props = _this.props,\n          formList = _this$props.formList,\n          getFieldProps = _this$props.getFieldProps,\n          optArr = _this$props.optArr;\n\n      if (formList) {\n        var title = formList.title;\n        var fieldId = formList.fieldId;\n        var field = \"criteria_\".concat(formList.id);\n\n        if (formList.inputType === \"text\") {\n          return /*#__PURE__*/React.createElement(_InputItem, Object.assign({}, getFieldProps(field), {\n            placeholder: \"\\u8BF7\\u8F93\\u5165\".concat(title),\n            key: fieldId,\n            clear: true,\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 12\n            }\n          }), title);\n        } else if (formList.inputType === \"select\") {\n          var optdata = [];\n\n          if (JSON.stringify(optArr) !== \"{}\") {\n            for (var k in optArr) {\n              if (k === formList.fieldId.toString()) {\n                optArr[k].forEach(function (it) {\n                  it.label = it.title;\n                });\n                optdata.push(optArr[k]);\n              }\n            }\n          }\n\n          return /*#__PURE__*/React.createElement(_Picker, Object.assign({\n            extra: \"\\u8BF7\\u9009\\u62E9(\\u53EF\\u9009)\",\n            data: optdata,\n            title: \"\\u8BF7\\u9009\\u62E9\".concat(title),\n            cols: 1,\n            cascade: false,\n            key: fieldId,\n            value: formList.value ? [formList.value] : [],\n            onVisibleChange: _this.onVisibleChange\n          }, getFieldProps(field), {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 12\n            }\n          }), /*#__PURE__*/React.createElement(_List.Item, {\n            arrow: \"horizontal\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 8\n            }\n          }, title));\n        } else if (formList.inputType === \"date\") {\n          return /*#__PURE__*/React.createElement(_DatePicker, Object.assign({\n            extra: \"\\u8BF7\\u9009\\u62E9(\\u53EF\\u9009)\",\n            mode: \"date\",\n            title: \"\\u8BF7\\u9009\\u62E9\".concat(title),\n            key: fieldId\n          }, getFieldProps(field), {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 12\n            }\n          }), /*#__PURE__*/React.createElement(_List.Item, {\n            arrow: \"horizontal\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }\n          }, title));\n        } else if (formList.inputType === \"caselect\") {\n          return /*#__PURE__*/React.createElement(CasePicker, {\n            formList: formList,\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 12\n            }\n          });\n        } else if (formList.inputType === \"decimal\" || formList.inputType === \"int\") {\n          return /*#__PURE__*/React.createElement(_InputItem, Object.assign({}, getFieldProps(field), {\n            type: 'number',\n            placeholder: \"\\u8BF7\\u8F93\\u5165\".concat(title),\n            key: fieldId,\n            clear: true,\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 12\n            }\n          }), title);\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchCard, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"formcard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 4\n        }\n      }, this.initFormList());\n    }\n  }]);\n\n  return SearchCard;\n}(Component);\n\nexport { SearchCard as default };","map":{"version":3,"sources":["E:/我的文件/人员定位系统/hclient_mobile_react/src/components/FormCard/searchCard.js"],"names":["React","Component","CasePicker","SearchCard","state","optdata","onVisibleChange","visible","document","addEventListener","bodyScroll","passive","removeEventListener","e","preventDefault","initFormList","props","formList","getFieldProps","optArr","title","fieldId","field","id","inputType","JSON","stringify","k","toString","forEach","it","label","push","value"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAEA,OAAOC,UAAP,MAAuB,iBAAvB;;IAEqBC,U;;;;;;;;;;;;;;;UAEpBC,K,GAAQ;AACPC,MAAAA,OAAO,EAAE;AADF,K;;UAGRC,e,GAAkB,UAACC,OAAD,EAAa;AAC9B,UAAGA,OAAH,EAAY;AACXC,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC,MAAKC,UAA5C,EAAwD;AACvDC,UAAAA,OAAO,EAAE;AAD8C,SAAxD;AAGA,OAJD,MAIO;AACNH,QAAAA,QAAQ,CAACI,mBAAT,CAA6B,WAA7B,EAA0C,MAAKF,UAA/C,EAA2D;AAC1DC,UAAAA,OAAO,EAAE;AADiD,SAA3D;AAGA;AACD,K;;UACDD,U,GAAa,UAACG,CAAD,EAAO;AACnBA,MAAAA,CAAC,CAACC,cAAF;AACA,K;;UACDC,Y,GAAe,YAAM;AAAA,wBACoB,MAAKC,KADzB;AAAA,UACbC,QADa,eACbA,QADa;AAAA,UACJC,aADI,eACJA,aADI;AAAA,UACUC,MADV,eACUA,MADV;;AAEpB,UAAGF,QAAH,EAAa;AACZ,YAAMG,KAAK,GAAGH,QAAQ,CAACG,KAAvB;AACA,YAAMC,OAAO,GAAGJ,QAAQ,CAACI,OAAzB;AACA,YAAMC,KAAK,sBAAeL,QAAQ,CAACM,EAAxB,CAAX;;AACA,YAAGN,QAAQ,CAACO,SAAT,KAAuB,MAA1B,EAAkC;AACjC,8BAAO,kDACqBN,aAAa,CAACI,KAAD,CADlC;AAEiB,YAAA,WAAW,8BAAQF,KAAR,CAF5B;AAGiB,YAAA,GAAG,EAAEC,OAHtB;AAIiB,YAAA,KAAK,MAJtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAKeD,KALf,CAAP;AAMA,SAPD,MAOO,IAAGH,QAAQ,CAACO,SAAT,KAAuB,QAA1B,EAAoC;AAC1C,cAAInB,OAAO,GAAC,EAAZ;;AACA,cAAGoB,IAAI,CAACC,SAAL,CAAeP,MAAf,MAA2B,IAA9B,EAAmC;AAClC,iBAAI,IAAIQ,CAAR,IAAaR,MAAb,EAAqB;AACpB,kBAAGQ,CAAC,KAAGV,QAAQ,CAACI,OAAT,CAAiBO,QAAjB,EAAP,EAAoC;AACnCT,gBAAAA,MAAM,CAACQ,CAAD,CAAN,CAAUE,OAAV,CAAkB,UAACC,EAAD,EAAM;AACvBA,kBAAAA,EAAE,CAACC,KAAH,GAASD,EAAE,CAACV,KAAZ;AACA,iBAFD;AAGAf,gBAAAA,OAAO,CAAC2B,IAAR,CAAab,MAAM,CAACQ,CAAD,CAAnB;AACA;AACD;AACD;;AACD,8BAAO;AACJ,YAAA,KAAK,EAAC,kCADF;AAEJ,YAAA,IAAI,EAAEtB,OAFF;AAGJ,YAAA,KAAK,8BAAQe,KAAR,CAHD;AAIJ,YAAA,IAAI,EAAE,CAJF;AAKJ,YAAA,OAAO,EAAE,KALL;AAMJ,YAAA,GAAG,EAAEC,OAND;AAOJ,YAAA,KAAK,EAAEJ,QAAQ,CAACgB,KAAT,GAAe,CAAChB,QAAQ,CAACgB,KAAV,CAAf,GAAgC,EAPnC;AAQJ,YAAA,eAAe,EAAE,MAAK3B;AARlB,aASAY,aAAa,CAACI,KAAD,CATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAWJ,0BAAM,IAAN;AAAW,YAAA,KAAK,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA+BF,KAA/B,CAXI,CAAP;AAaA,SAzBM,MAyBA,IAAGH,QAAQ,CAACO,SAAT,KAAuB,MAA1B,EAAkC;AACxC,8BAAO;AACiB,YAAA,KAAK,EAAC,kCADvB;AAEiB,YAAA,IAAI,EAAC,MAFtB;AAGiB,YAAA,KAAK,8BAAQJ,KAAR,CAHtB;AAIiB,YAAA,GAAG,EAAEC;AAJtB,aAKqBH,aAAa,CAACI,KAAD,CALlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAOiB,0BAAM,IAAN;AAAW,YAAA,KAAK,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA+BF,KAA/B,CAPjB,CAAP;AASA,SAVM,MAUA,IAAGH,QAAQ,CAACO,SAAT,KAAuB,UAA1B,EAAsC;AAC5C,8BAAO,oBAAC,UAAD;AACiB,YAAA,QAAQ,EAAEP,QAD3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAGA,SAJM,MAIA,IAAGA,QAAQ,CAACO,SAAT,KAAuB,SAAvB,IAAoCP,QAAQ,CAACO,SAAT,KAAuB,KAA9D,EAAqE;AAC3E,8BAAO,kDACqBN,aAAa,CAACI,KAAD,CADlC;AAEiB,YAAA,IAAI,EAAE,QAFvB;AAGiB,YAAA,WAAW,8BAAQF,KAAR,CAH5B;AAIiB,YAAA,GAAG,EAAEC,OAJtB;AAKiB,YAAA,KAAK,MALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMeD,KANf,CAAP;AAOA;AACD;AACD,K;;;;;;;6BACQ;AACR,0BACC;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACc,KAAKL,YAAL,EADd,CADD;AAKA;;;;EAxFsCd,S;;SAAnBE,U","sourcesContent":["import React, {Component} from 'react'\r\nimport { DatePicker, List, InputItem, Picker, } from 'antd-mobile';\r\nimport CasePicker from './../CasePicker'\r\n\r\nexport default class SearchCard extends Component {\r\n\r\n\tstate = {\r\n\t\toptdata: []\r\n\t}\r\n\tonVisibleChange = (visible) => {\r\n\t\tif(visible) {\r\n\t\t\tdocument.addEventListener('touchmove', this.bodyScroll, {\r\n\t\t\t\tpassive: false\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tdocument.removeEventListener('touchmove', this.bodyScroll, {\r\n\t\t\t\tpassive: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tbodyScroll = (e) => {\r\n\t\te.preventDefault();\r\n\t}\r\n\tinitFormList = () => {\r\n\t\tconst {formList,getFieldProps,optArr} = this.props\r\n\t\tif(formList) {\r\n\t\t\tconst title = formList.title\r\n\t\t\tconst fieldId = formList.fieldId\r\n\t\t\tconst field = `criteria_${formList.id}`;\r\n\t\t\tif(formList.inputType === \"text\") {\r\n\t\t\t\treturn <InputItem\r\n                            {...getFieldProps(field)}\r\n                            placeholder={`请输入${title}`}\r\n                            key={fieldId}\r\n                            clear\r\n                        >{title}</InputItem>\r\n\t\t\t} else if(formList.inputType === \"select\") {\r\n\t\t\t\tlet optdata=[]\r\n\t\t\t\tif(JSON.stringify(optArr) !== \"{}\"){\r\n\t\t\t\t\tfor(let k in optArr) {\r\n\t\t\t\t\t\tif(k===formList.fieldId.toString()) {\r\n\t\t\t\t\t\t\toptArr[k].forEach((it)=>{\r\n\t\t\t\t\t\t\t\tit.label=it.title\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\toptdata.push(optArr[k])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn <Picker\r\n\t\t\t\t\t\t\textra=\"请选择(可选)\"                                       \r\n\t\t\t\t\t\t\tdata={optdata}\r\n\t\t\t\t\t\t\ttitle={`请选择${title}`}\r\n\t\t\t\t\t\t\tcols={1}\r\n\t\t\t\t\t\t\tcascade={false}\r\n\t\t\t\t\t\t\tkey={fieldId}\r\n\t\t\t\t\t\t\tvalue={formList.value?[formList.value]:[]}\r\n\t\t\t\t\t\t\tonVisibleChange={this.onVisibleChange}\r\n\t\t\t\t\t\t\t{...getFieldProps(field)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<List.Item arrow=\"horizontal\">{title}</List.Item>\r\n\t\t\t\t\t\t</Picker>\r\n\t\t\t} else if(formList.inputType === \"date\") {\r\n\t\t\t\treturn <DatePicker   \r\n                            extra=\"请选择(可选)\"\r\n                            mode=\"date\"\r\n                            title={`请选择${title}`}\r\n                            key={fieldId}\r\n                            {...getFieldProps(field)}\r\n                        >\r\n                            <List.Item arrow=\"horizontal\">{title}</List.Item>\r\n                        </DatePicker>\r\n\t\t\t} else if(formList.inputType === \"caselect\") {\r\n\t\t\t\treturn <CasePicker\r\n                            formList={formList}\r\n                            />\r\n\t\t\t} else if(formList.inputType === \"decimal\" || formList.inputType === \"int\") {\r\n\t\t\t\treturn <InputItem\r\n                            {...getFieldProps(field)}\r\n                            type={'number'}\r\n                            placeholder={`请输入${title}`}\r\n                            key={fieldId}\r\n                            clear\r\n                        >{title}</InputItem>\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"formcard\">\r\n                {this.initFormList()}                \r\n            </div>\r\n\t\t)\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}