{"ast":null,"code":"import \"antd-mobile/es/icon/style\";\nimport _Icon from \"antd-mobile/es/icon\";\nimport \"antd-mobile/es/toast/style\";\nimport _Toast from \"antd-mobile/es/toast\";\nimport _classCallCheck from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport \"antd-mobile/es/popover/style\";\nimport _Popover from \"antd-mobile/es/popover\";\nvar _jsxFileName = \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\src\\\\pages\\\\testHome\\\\index.js\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport React, { Component } from 'react';\nimport Nav from \"../../components/Nav\";\nimport Super from \"../../super\";\nimport Storage from \"../../units/storage\";\nimport \"./index.less\";\nvar Item = _Popover.Item;\n\nvar TestHome = /*#__PURE__*/function (_Component) {\n  _inherits(TestHome, _Component);\n\n  function TestHome() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TestHome);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TestHome)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      homeState: []\n    };\n\n    _this.request = function () {\n      Super.super({\n        url: 'api2/meta/menu/get_blocks'\n      }).then(function (res) {\n        var currentBlockId = res.currentBlockId;\n        console.log(res);\n\n        _this.setBlocks(currentBlockId, res.blocks);\n      });\n    };\n\n    _this.setBlocks = function (blockId, blocks) {\n      _Toast.info(blockId);\n\n      var menuTreeNode = _this.renderMenu(blocks);\n\n      console.log(menuTreeNode.length);\n\n      _this.setState({\n        menuTreeNode: menuTreeNode\n      });\n    };\n\n    _this.renderMenu = function (data) {\n      return data.map(function (item) {\n        if (item.l1Menus) return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 24\n          }\n        }, \"2:\", _this.renderMenu(item.l1Menus), /*#__PURE__*/React.createElement(_Icon, {\n          type: \"right\",\n          size: \"sm\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 62\n          }\n        }));else return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 24\n          }\n        }, \"1:\", item.title);\n      });\n    };\n\n    _this.handlePop = function (value) {\n      _this.props.history.push(\"/\".concat(value));\n    };\n\n    return _this;\n  }\n\n  _createClass(TestHome, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.request();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          homeDate = _this$state.homeDate,\n          menuTreeNode = _this$state.menuTreeNode;\n      var homePop = [/*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: '100px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }\n      }, \"aaa\")];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        title: \"aaa\",\n        data: homeDate,\n        props: homePop,\n        level: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item_div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, menuTreeNode));\n    }\n  }]);\n\n  return TestHome;\n}(Component);\n\nexport default withRouter(TestHome);","map":{"version":3,"sources":["E:/我的文件/人员定位系统/chq_position_app/src/pages/testHome/index.js"],"names":["NavLink","withRouter","React","Component","Nav","Super","Storage","Item","TestHome","state","homeState","request","super","url","then","res","currentBlockId","console","log","setBlocks","blocks","blockId","info","menuTreeNode","renderMenu","length","setState","data","map","item","l1Menus","title","handlePop","value","props","history","push","homeDate","homePop","marginTop"],"mappings":";;;;;;;;;;;;;AAAA,SAAQA,OAAR,EAAiBC,UAAjB,QAAkC,kBAAlC;AACA,OAAOC,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAO,cAAP;AACA,IAAMC,IAAI,GAAG,SAAQA,IAArB;;IAEMC,Q;;;;;;;;;;;;;;;UACFC,K,GAAM;AAACC,MAAAA,SAAS,EAAC;AAAX,K;;UAKNC,O,GAAU,YAAM;AACZN,MAAAA,KAAK,CAACO,KAAN,CAAY;AACRC,QAAAA,GAAG,EAAE;AADG,OAAZ,EAEGC,IAFH,CAEQ,UAACC,GAAD,EAAS;AACb,YAAIC,cAAc,GAACD,GAAG,CAACC,cAAvB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,cAAKI,SAAL,CAAeH,cAAf,EAA8BD,GAAG,CAACK,MAAlC;AACH,OAND;AAOH,K;;UACDD,S,GAAU,UAACE,OAAD,EAASD,MAAT,EAAkB;AACxB,aAAME,IAAN,CAAWD,OAAX;;AACA,UAAME,YAAY,GAAC,MAAKC,UAAL,CAAgBJ,MAAhB,CAAnB;;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYK,YAAY,CAACE,MAAzB;;AACA,YAAKC,QAAL,CAAc;AAACH,QAAAA,YAAY,EAAZA;AAAD,OAAd;AACH,K;;UACDC,U,GAAW,UAACG,IAAD,EAAQ;AACf,aAAOA,IAAI,CAACC,GAAL,CAAS,UAACC,IAAD,EAAQ;AACpB,YAAGA,IAAI,CAACC,OAAR,EACI,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAQ,MAAKN,UAAL,CAAgBK,IAAI,CAACC,OAArB,CAAR,eAAsC;AAAM,UAAA,IAAI,EAAC,OAAX;AAAmB,UAAA,IAAI,EAAC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAtC,CAAP,CADJ,KAGI,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAQD,IAAI,CAACE,KAAb,CAAP;AACP,OALM,CAAP;AAMH,K;;UAEDC,S,GAAY,UAACC,KAAD,EAAW;AACnB,YAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,YAA4BH,KAA5B;AACH,K;;;;;;;wCA7BmB;AAChB,WAAKtB,OAAL;AACH;;;6BA6BQ;AAAA,wBACyB,KAAKF,KAD9B;AAAA,UACE4B,QADF,eACEA,QADF;AAAA,UACWd,YADX,eACWA,YADX;AAEL,UAAMe,OAAO,GAAC,cAAE;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,SAAS,EAAC;AAAX,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAF,CAAd;AACA,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AACA,QAAA,KAAK,EAAC,KADN;AAEA,QAAA,IAAI,EAAEF,QAFN;AAGA,QAAA,KAAK,EAAEC,OAHP;AAIA,QAAA,KAAK,EAAE,CAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAOI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2Bf,YAA3B,CAPJ,CADJ;AAWH;;;;EAhDkBpB,S;;AAmDvB,eAAeF,UAAU,CAACO,QAAD,CAAzB","sourcesContent":["import {NavLink, withRouter} from \"react-router-dom\";\r\nimport React, {Component} from 'react'\r\nimport Nav from \"../../components/Nav\";\r\nimport Super from \"../../super\"\r\nimport {Accordion, Icon, List, Toast, Popover} from \"antd-mobile\";\r\nimport Storage from \"../../units/storage\";\r\nimport \"./index.less\"\r\nconst Item = Popover.Item;\r\n\r\nclass TestHome extends Component{\r\n    state={homeState:[]}\r\n\r\n    componentDidMount() {\r\n        this.request()\r\n    }\r\n    request = () => {\r\n        Super.super({\r\n            url: 'api2/meta/menu/get_blocks',\r\n        }).then((res) => {\r\n            let currentBlockId=res.currentBlockId;\r\n            console.log(res);\r\n            this.setBlocks(currentBlockId,res.blocks);\r\n        })\r\n    }\r\n    setBlocks=(blockId,blocks)=>{\r\n        Toast.info(blockId);\r\n        const menuTreeNode=this.renderMenu(blocks);\r\n        console.log(menuTreeNode.length);\r\n        this.setState({menuTreeNode});\r\n    }\r\n    renderMenu=(data)=>{\r\n        return data.map((item)=>{\r\n            if(item.l1Menus)\r\n                return <div>2:{this.renderMenu(item.l1Menus)}<Icon type=\"right\" size=\"sm\"/></div>\r\n            else\r\n                return <div>1:{item.title}</div>\r\n        });\r\n    }\r\n\r\n    handlePop = (value) => {\r\n        this.props.history.push(`/${value}`)\r\n    }\r\n\r\n    render() {\r\n        const {homeDate,menuTreeNode}=this.state\r\n        const homePop=[(<div style={{marginTop:'100px'}}>aaa</div>)];\r\n        return(\r\n            <div>\r\n                <Nav\r\n                title=\"aaa\"\r\n                data={homeDate}\r\n                props={homePop}\r\n                level={1}\r\n                />\r\n                <div className=\"item_div\">{menuTreeNode}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(TestHome)"]},"metadata":{},"sourceType":"module"}