{"ast":null,"code":"import \"antd-mobile/es/button/style\";\nimport _Button from \"antd-mobile/es/button\";\nimport \"antd-mobile/es/input-item/style\";\nimport _InputItem from \"antd-mobile/es/input-item\";\nimport \"antd-mobile/es/picker/style\";\nimport _Picker from \"antd-mobile/es/picker\";\nimport \"antd-mobile/es/switch/style\";\nimport _Switch from \"antd-mobile/es/switch\";\nimport _classCallCheck from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport \"antd-mobile/es/list/style\";\nimport _List from \"antd-mobile/es/list\";\nvar _jsxFileName = \"E:\\\\\\u6211\\u7684\\u6587\\u4EF6\\\\\\u4EBA\\u5458\\u5B9A\\u4F4D\\u7CFB\\u7EDF\\\\chq_position_app\\\\src\\\\components\\\\SearchForm\\\\index.js\";\nimport React, { Component } from 'react';\nimport SearchCard from './../../components/FormCard/searchCard';\nimport { createForm } from 'rc-form';\nimport Units from './../../units';\nvar Item = _List.Item;\n\nvar SearchForm = /*#__PURE__*/function (_Component) {\n  _inherits(SearchForm, _Component);\n\n  function SearchForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      order: true\n    };\n\n    _this.submit = function () {\n      _this.props.form.validateFields({\n        force: true\n      }, function (err, values) {\n        //提交再次验证\n        for (var k in values) {\n          if (typeof values[k] === \"object\" && Array.isArray(values[k]) === false) {\n            console.log(values[k]);\n            values[k] = Units.dateToString(values[k]);\n          }\n        }\n\n        console.log(values);\n\n        _this.props.handleSearch(values);\n      });\n    };\n\n    _this.reset = function () {\n      _this.props.form.resetFields();\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var order = this.state.order;\n      var _this$props = this.props,\n          searchList = _this$props.searchList,\n          optArr = _this$props.optArr;\n      var getFieldProps = this.props.form.getFieldProps;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"searchForm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(_List, {\n        renderHeader: function renderHeader() {\n          return '查询条件';\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }\n      }, searchList.map(function (item) {\n        return /*#__PURE__*/React.createElement(SearchCard, {\n          key: item.id,\n          formList: item,\n          optArr: optArr,\n          getFieldProps: getFieldProps,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 29\n          }\n        });\n      })), /*#__PURE__*/React.createElement(_List, {\n        renderHeader: function renderHeader() {\n          return \"\\u6839\\u636E\\u5B57\\u6BB5\".concat(order ? \"顺序\" : \"逆序\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Item, {\n        extra: /*#__PURE__*/React.createElement(_Switch, {\n          checked: order,\n          key: order,\n          onChange: function onChange() {\n            _this2.setState({\n              order: !order\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 36\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }\n      }, order ? \"顺序\" : \"逆序\"), /*#__PURE__*/React.createElement(_Picker, {\n        data: [[{\n          label: \"上海\",\n          value: \"1\",\n          key: \"1\"\n        }, {\n          label: \"杭州\",\n          value: \"2\",\n          key: \"2\"\n        }]],\n        cols: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Item, {\n        arrow: \"horizontal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }\n      }, \"\\u5B57\\u6BB5\"))), /*#__PURE__*/React.createElement(_List, {\n        renderHeader: function renderHeader() {\n          return '页码';\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_InputItem, Object.assign({\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u9875\\u7801\",\n        clear: true\n      }, getFieldProps(\"pageNo\"), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      }), \"\\u9875\\u7801\"), /*#__PURE__*/React.createElement(_InputItem, Object.assign({\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u6BCF\\u9875\\u663E\\u793A\\u6761\\u6570\",\n        clear: true\n      }, getFieldProps(\"pageSize\"), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }\n      }), \"\\u663E\\u793A\\u6761\\u6570\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"searchButton\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Button, {\n        type: \"warning\",\n        inline: true,\n        size: \"small\",\n        onClick: this.reset,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }\n      }, \"\\u91CD\\u7F6E\"), /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        inline: true,\n        size: \"small\",\n        onClick: this.submit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }\n      }, \"\\u67E5\\u8BE2\")));\n    }\n  }]);\n\n  return SearchForm;\n}(Component);\n\nexport default createForm()(SearchForm);","map":{"version":3,"sources":["E:/我的文件/人员定位系统/chq_position_app/src/components/SearchForm/index.js"],"names":["React","Component","SearchCard","createForm","Units","Item","SearchForm","state","order","submit","props","form","validateFields","force","err","values","k","Array","isArray","console","log","dateToString","handleSearch","reset","resetFields","searchList","optArr","getFieldProps","map","item","id","setState","label","value","key"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAEA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,SAASC,UAAT,QAA2B,SAA3B;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,IAAMC,IAAI,GAAG,MAAKA,IAAlB;;IAEMC,U;;;;;;;;;;;;;;;UAELC,K,GAAQ;AACPC,MAAAA,KAAK,EAAE;AADA,K;;UAGRC,M,GAAS,YAAM;AACd,YAAKC,KAAL,CAAWC,IAAX,CAAgBC,cAAhB,CAA+B;AAC9BC,QAAAA,KAAK,EAAE;AADuB,OAA/B,EAEG,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAAE;AACrB,aAAI,IAAIC,CAAR,IAAaD,MAAb,EAAqB;AACpB,cAAG,OAAOA,MAAM,CAACC,CAAD,CAAb,KAAqB,QAArB,IAAiCC,KAAK,CAACC,OAAN,CAAcH,MAAM,CAACC,CAAD,CAApB,MAA6B,KAAjE,EAAwE;AACvEG,YAAAA,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACC,CAAD,CAAlB;AACAD,YAAAA,MAAM,CAACC,CAAD,CAAN,GAAYZ,KAAK,CAACiB,YAAN,CAAmBN,MAAM,CAACC,CAAD,CAAzB,CAAZ;AACA;AACD;;AACDG,QAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;;AACA,cAAKL,KAAL,CAAWY,YAAX,CAAwBP,MAAxB;AACA,OAXD;AAYA,K;;UACDQ,K,GAAQ,YAAM;AACb,YAAKb,KAAL,CAAWC,IAAX,CAAgBa,WAAhB;AACA,K;;;;;;;6BACQ;AAAA;;AAAA,UACDhB,KADC,GACQ,KAAKD,KADb,CACDC,KADC;AAAA,wBAEoB,KAAKE,KAFzB;AAAA,UAEDe,UAFC,eAEDA,UAFC;AAAA,UAEUC,MAFV,eAEUA,MAFV;AAAA,UAGDC,aAHC,GAGgB,KAAKjB,KAAL,CAAWC,IAH3B,CAGDgB,aAHC;AAIR,0BACC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACa;AAAM,QAAA,YAAY,EAAE;AAAA,iBAAM,MAAN;AAAA,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQF,UAAU,CAACG,GAAX,CAAe,UAAAC,IAAI;AAAA,4BACf,oBAAC,UAAD;AACI,UAAA,GAAG,EAAEA,IAAI,CAACC,EADd;AAEI,UAAA,QAAQ,EAAED,IAFd;AAGI,UAAA,MAAM,EAAEH,MAHZ;AAII,UAAA,aAAa,EAAEC,aAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADe;AAAA,OAAnB,CAFR,CADb,eAaiB;AAAM,QAAA,YAAY,EAAE;AAAA,mDAAanB,KAAK,GAAC,IAAD,GAAM,IAAxB;AAAA,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AACI,QAAA,KAAK,eAAE;AACP,UAAA,OAAO,EAAEA,KADF;AAEP,UAAA,GAAG,EAAEA,KAFE;AAGP,UAAA,QAAQ,EAAE,oBAAM;AACZ,YAAA,MAAI,CAACuB,QAAL,CAAc;AACVvB,cAAAA,KAAK,EAAE,CAACA;AADE,aAAd;AAGH,WAPM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUEA,KAAK,GAAC,IAAD,GAAM,IAVb,CADJ,eAYI;AAAQ,QAAA,IAAI,EAAE,CAAC,CAAC;AAACwB,UAAAA,KAAK,EAAC,IAAP;AAAYC,UAAAA,KAAK,EAAC,GAAlB;AAAsBC,UAAAA,GAAG,EAAC;AAA1B,SAAD,EAAgC;AAACF,UAAAA,KAAK,EAAC,IAAP;AAAYC,UAAAA,KAAK,EAAC,GAAlB;AAAsBC,UAAAA,GAAG,EAAC;AAA1B,SAAhC,CAAD,CAAd;AAAiF,QAAA,IAAI,EAAE,CAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAC,YAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CAZJ,CAbjB,eA6BiB;AAAM,QAAA,YAAY,EAAE;AAAA,iBAAM,IAAN;AAAA,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AACI,QAAA,WAAW,kCADf;AAEI,QAAA,KAAK;AAFT,SAGQP,aAAa,CAAC,QAAD,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAMI;AACI,QAAA,WAAW,0DADf;AAEI,QAAA,KAAK;AAFT,SAGQA,aAAa,CAAC,UAAD,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCANJ,CA7BjB,eAyCiB;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,MAAM,MAA7B;AAA8B,QAAA,IAAI,EAAC,OAAnC;AAA2C,QAAA,OAAO,EAAE,KAAKJ,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,MAAM,MAA7B;AAA8B,QAAA,IAAI,EAAC,OAAnC;AAA2C,QAAA,OAAO,EAAE,KAAKd,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,CAzCjB,CADD;AAgDA;;;;EA1EuBR,S;;AA6EzB,eAAeE,UAAU,GAAGG,UAAH,CAAzB","sourcesContent":["import React, {Component} from 'react'\r\nimport { List, Switch, Picker, InputItem, Button } from 'antd-mobile';\r\nimport SearchCard from './../../components/FormCard/searchCard'\r\nimport { createForm } from 'rc-form';\r\nimport Units from './../../units'\r\nconst Item = List.Item;\r\n\r\nclass SearchForm extends Component {\r\n\r\n\tstate = {\r\n\t\torder: true,\r\n\t}\r\n\tsubmit = () => {\r\n\t\tthis.props.form.validateFields({\r\n\t\t\tforce: true\r\n\t\t}, (err, values) => { //提交再次验证\r\n\t\t\tfor(let k in values) {\r\n\t\t\t\tif(typeof values[k] === \"object\" && Array.isArray(values[k]) === false) {\r\n\t\t\t\t\tconsole.log(values[k])\r\n\t\t\t\t\tvalues[k] = Units.dateToString(values[k])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log(values)  \r\n\t\t\tthis.props.handleSearch(values)\r\n\t\t})\r\n\t}\r\n\treset = () => {\r\n\t\tthis.props.form.resetFields()\r\n\t}\r\n\trender() {\r\n\t\tconst {order} = this.state\r\n\t\tconst {searchList,optArr} = this.props\r\n\t\tconst {getFieldProps} = this.props.form;\r\n\t\treturn(\r\n\t\t\t<div className=\"searchForm\">\r\n                <List renderHeader={() => '查询条件'}>\r\n                    {\r\n                        searchList.map(item =>\r\n                            <SearchCard \r\n                                key={item.id} \r\n                                formList={item}\r\n                                optArr={optArr}\r\n                                getFieldProps={getFieldProps}\r\n                            />\r\n                        )\r\n                    }                                    \r\n                    </List>\r\n                    <List renderHeader={() => `根据字段${order?\"顺序\":\"逆序\"}`}>\r\n                        <Item\r\n                            extra={<Switch\r\n                            checked={order}\r\n                            key={order}\r\n                            onChange={() => {\r\n                                this.setState({\r\n                                    order: !order,\r\n                                });\r\n                            }}\r\n                        />}\r\n                        >{order?\"顺序\":\"逆序\"}</Item>\r\n                        <Picker data={[[{label:\"上海\",value:\"1\",key:\"1\"},{label:\"杭州\",value:\"2\",key:\"2\"}]]} cols={1}>\r\n                            <Item arrow=\"horizontal\">字段</Item>\r\n                        </Picker>\r\n                    </List>\r\n                    <List renderHeader={() => '页码'}>\r\n                        <InputItem\r\n                            placeholder={`请输入页码`}\r\n                            clear\r\n                            {...getFieldProps(\"pageNo\")}\r\n                            >页码</InputItem>\r\n                        <InputItem\r\n                            placeholder={`请输入每页显示条数`}\r\n                            clear\r\n                            {...getFieldProps(\"pageSize\")}\r\n                            >显示条数</InputItem>\r\n                    </List>\r\n                    <div className=\"searchButton\">\r\n                        <Button type=\"warning\" inline size=\"small\" onClick={this.reset}>重置</Button>\r\n                        <Button type=\"primary\" inline size=\"small\" onClick={this.submit}>查询</Button>\r\n                    </div>\r\n            </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default createForm()(SearchForm);"]},"metadata":{},"sourceType":"module"}